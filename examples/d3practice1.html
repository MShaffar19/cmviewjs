<html>
<head>

<style>

rect:hover
{
	opacity: 0.5;
}


div.tooltip {
	position: absolute;
	text-align: center;
	width: 60px;
	height: 15px;
	padding: 5px;
	font: 12px sans-serif;
	background: #FFDAB9;
	border: 0px;
	border-radius: 8px;
	pointer-events: none;
}

</style>

</head>

<body>

	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="ngl.dev.js"></script>
	<script type = "text/javascript" src = "cmsvg.js"></script>
	<script type = "text/javascript" src = "cmngl.js"></script>
	<script type = "text/javascript" src = "cmcontroller.js"></script>

	<div id = "container" style = "width:1400px; height: 900px">
		<div id="nglviewport" style="width:700px; height:700px; float: right;"></div>
		<div id="svgviewport" style="width:700px; height:700px; float: left;"></div>
		<div id="form">
			<form id ="frm1">
			PDB ID: <input type="text" name="pdbid" id="pdbid" value="1smt">
			</form>

			<input id="submit" value="Submit" type="button">
		</div>
	</div>





  
<script>
var loadedtag = 0;

function pdbinput(){
	var x = document.getElementById('pdbid').value
	console.log(x);
	


	//svgurl
	//"http://localhost:8000/examples/5sx3.json"
	var str1 = "http://localhost:8000/examples/";
	var str2 = ".json";
	var str3 = str1.concat(x);
	str3 = str3.concat(str2);
	console.log(str3);

	//nglurl
	//"rcsb://5sx3.mmtf"
	var str4 = "rcsb://";
	var str5 = ".mmtf";
	var str6 = str4.concat(x);
	str6 = str6.concat(str5);
	console.log(str6);




	if(loadedtag == 1){
		//d3.select("svg").remove();
		document.getElementById("svgviewport").innerHTML = "";
		document.getElementById("nglviewport").innerHTML = "";
	}


	var nglobj = new nglClass("ngl1", "nglviewport", str6);
	var svgobj = new svgClass("svg1", nglobj, str3);
	var cmcontroller = new controllerClass("cmctr1", svgobj, nglobj);	
	


	cmcontroller.ctloadngl();

	cmcontroller.ctloadcmsvg();


	loadedtag = 1;
}

var inputpdbbtn = document.getElementById('submit');
inputpdbbtn.addEventListener('click', pdbinput);



/*
var nglobj = new nglClass("ngl1", "nglviewport", "rcsb://5sx3.mmtf");
var svgobj = new svgClass("svg1", nglobj,"http://localhost:8000/examples/5sx3.json");
var cmcontroller = new controllerClass("cmctr1", svgobj, nglobj);

cmcontroller.ctloadngl();
cmcontroller.ctloadcmsvg();
*/

</script>



</body>
</html>